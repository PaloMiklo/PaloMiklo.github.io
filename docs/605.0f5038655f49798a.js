"use strict";(self.webpackChunkpersonal=self.webpackChunkpersonal||[]).push([[605],{7605:(B,u,l)=>{l.r(u),l.d(u,{ContactModalModule:()=>V});var m=l(6895),M=l(6994),h=l(4466),I=l(9960),d=l(7121),A=l(1446),f=l(8505),p=l(2722),L=l(1017),s=(()=>{return(o=s||(s={})).NAME="name",o.EMAIL="email",o.MESSAGE="message",s;var o})(),S=l(5804),i=l(433),t=l(8256),D=l(529);let y=(()=>{class o{constructor(e){this._http=e,this.postData$=(n,r)=>this._http.post(n,r)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(D.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),g=(()=>{class o{constructor(e){this._http=e,this.sentMessage$=n=>this._http.postData$("/api/onSendMessage",n)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(y))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})();var Z=l(8417),b=l(546),N=l(5768),T=l(8998);function J(o,a){1&o&&(t.TgZ(0,"small",2),t._uU(1," This field is required. "),t.qZA())}function Q(o,a){1&o&&(t.TgZ(0,"small",2),t._uU(1," Invalid e-mail format. "),t.qZA())}function G(o,a){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,J,2,0,"small",1),t.YNc(2,Q,2,0,"small",1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.control.errors?null:e.control.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.control.errors?null:e.control.errors.email)}}let O=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-validation"]],inputs:{control:"control"},decls:1,vars:1,consts:[[4,"ngIf"],["class","invalid-text",4,"ngIf"],[1,"invalid-text"]],template:function(e,n){1&e&&t.YNc(0,G,3,2,"div",0),2&e&&t.Q6J("ngIf",n.control.invalid&&n.control.errors&&(n.control.dirty||n.control.touched))},dependencies:[m.O5],encapsulation:2}),o})();const U=["contact"],c=function(o,a){return{valid:o,invalid:a}},R=[{path:"",component:(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-contact-main"]],decls:1,vars:0,template:function(e,n){1&e&&t._UZ(0,"router-outlet")},dependencies:[d.lC],encapsulation:2,changeDetection:0}),o})(),children:[{path:"",component:(()=>{class o extends S.o{constructor(e,n,r,v,E,C){super(r,v,E,C),this._service=e,this._alert=n,this.state=r,this.busyService=v,this.route=E,this.router=C,this.MODALS=L.Q,this.FIELD=s,this.onSend=()=>{const z=Object.assign(this.form.getRawValue(),{datetime:(new Date).toISOString()});this._service.sentMessage$(z).pipe((0,f.b)(()=>this.form.reset()),(0,p.R)(this.unsubscribe$)).subscribe()}}ngOnInit(){this.form=(()=>{const o=new i.qu;return o.nonNullable.group({[s.NAME]:o.control("",{nonNullable:!0,validators:i.kI.required}),[s.EMAIL]:o.control("",{nonNullable:!0,validators:[i.kI.required,i.kI.email]}),[s.MESSAGE]:o.control("",{nonNullable:!0,validators:i.kI.required})})})()}ngAfterViewInit(){this.detectReadyState$().pipe((0,f.b)(()=>{this._modalRef.nativeElement.style.zIndex=this.ready?"998":"1",this._modalRef.nativeElement.addEventListener(this.MODAL_CLOSED,()=>this.afterClose()),this._modal=A.u_.getOrCreateInstance(this._modalRef.nativeElement),this._modal.show()}),(0,p.R)(this.unsubscribe$)).subscribe()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(g),t.Y36(Z.c),t.Y36(b.g),t.Y36(N.z),t.Y36(d.gz),t.Y36(d.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-contact-modal"]],viewQuery:function(e,n){if(1&e&&t.Gf(U,5),2&e){let r;t.iGM(r=t.CRH())&&(n._modalRef=r.first)}},features:[t._Bn([g]),t.qOj],decls:31,vars:27,consts:[["id","MODALS.CONTACT","tabindex","-1","role","dialog","aria-labelledby","contactTitle","aria-bs-hidden","true",1,"modal","fade"],["contact",""],["role","document",1,"modal-dialog"],[1,"modal-content"],[3,"formGroup","ngSubmit"],[1,"modal-header"],["id","contactTitle",1,"modal-title"],["aria-hidden","true",1,"fa","fa-1x",3,"ngClass"],["data-bs-dismiss","modal"],[1,"modal-body"],[1,"form-group"],[1,"col-form-label","asterix",3,"for"],["type","text",1,"form-control",3,"id","formControlName","ngClass"],[3,"control"],["rows","15",1,"form-control",3,"id","formControlName","ngClass"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","submit",1,"btn","btn-dark",3,"disabled"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3)(4,"form",4),t.NdJ("ngSubmit",function(){return n.onSend()}),t.TgZ(5,"div",5)(6,"h5",6),t._UZ(7,"i",7),t._uU(8,"Leave a message"),t.qZA(),t._UZ(9,"app-closing-cross",8),t.qZA(),t.TgZ(10,"div",9)(11,"div",10)(12,"label",11),t._uU(13,"Name:"),t.qZA(),t._UZ(14,"input",12)(15,"app-validation",13),t.qZA(),t.TgZ(16,"div",10)(17,"label",11),t._uU(18,"E-mail:"),t.qZA(),t._UZ(19,"input",12)(20,"app-validation",13),t.qZA(),t.TgZ(21,"div",10)(22,"label",11),t._uU(23,"Message:"),t.qZA(),t._UZ(24,"textarea",14)(25,"app-validation",13),t.qZA()(),t.TgZ(26,"div",15)(27,"button",16),t._uU(28,"Close"),t.qZA(),t.TgZ(29,"button",17),t._uU(30,"Send message"),t.qZA()()()()()()),2&e&&(t.xp6(4),t.Q6J("formGroup",n.form),t.xp6(3),t.Q6J("ngClass",n.form.get("name").touched&&n.form.get("email").touched&&n.form.get("message").touched&&n.form.invalid?"fa-warning invalid-text":""),t.xp6(5),t.Q6J("for",n.FIELD.NAME),t.xp6(2),t.Q6J("id",n.FIELD.NAME)("formControlName",n.FIELD.NAME)("ngClass",t.WLB(18,c,n.form.get(n.FIELD.NAME).touched&&n.form.get(n.FIELD.NAME).valid,n.form.get(n.FIELD.NAME).touched&&n.form.get(n.FIELD.NAME).invalid)),t.xp6(1),t.Q6J("control",n.form.get(n.FIELD.NAME)),t.xp6(2),t.Q6J("for",n.FIELD.EMAIL),t.xp6(2),t.Q6J("id",n.FIELD.EMAIL)("formControlName",n.FIELD.EMAIL)("ngClass",t.WLB(21,c,n.form.get(n.FIELD.EMAIL).touched&&n.form.get(n.FIELD.EMAIL).valid,n.form.get(n.FIELD.EMAIL).touched&&n.form.get(n.FIELD.EMAIL).invalid)),t.xp6(1),t.Q6J("control",n.form.get(n.FIELD.EMAIL)),t.xp6(2),t.Q6J("for",n.FIELD.MESSAGE),t.xp6(2),t.Q6J("id",n.FIELD.MESSAGE)("formControlName",n.FIELD.MESSAGE)("ngClass",t.WLB(24,c,n.form.get(n.FIELD.MESSAGE).touched&&n.form.get(n.FIELD.MESSAGE).valid,n.form.get(n.FIELD.MESSAGE).touched&&n.form.get(n.FIELD.MESSAGE).invalid)),t.xp6(1),t.Q6J("control",n.form.get(n.FIELD.MESSAGE)),t.xp6(4),t.Q6J("disabled",!n.form.valid))},dependencies:[m.mk,T.d,O,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u],styles:[".modal-content[_ngcontent-%COMP%]{height:100%;align-self:center;justify-content:center}.modal-content[_ngcontent-%COMP%]   .fa-warning[_ngcontent-%COMP%]{margin-right:10px}"],changeDetection:0}),o})()}]}];let Y=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[d.Bz.forChild(R),d.Bz]}),o})(),V=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[m.ez,I.k,M.O,Y,h.m]}),o})()}}]);